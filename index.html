<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Kitchatty</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Sidebar Toggle Button -->
<button id="toggleSidebar">â˜°</button>

<!-- Sidebar -->
<div id="sidebar" class="hidden">
  <h3>Friends</h3>
  <div id="friendControls">
    <input id="friendInput" type="text" placeholder="Add friend by username" maxlength="32">
    <button id="addFriendBtn">Add</button>
    <button id="toggleDiscoverBtn" title="Show/Hide all online users">Discover</button>
  </div>
  <div id="friendsList"></div>

  <h3>Friend Requests</h3>
  <div id="requestsList"></div>

  <h3 style="display:flex;justify-content:space-between;align-items:center;">
    Discover (All Online)
    <span style="font-size:12px;color:#ccc;">â€” filtered to non-friends</span>
  </h3>
  <div id="discoverList"></div>

  <button id="chatAllBtn">Chat All</button>
  <button id="editProfileBtn" hidden>Edit Profile</button>
  <input type="file" id="avatarInput" accept="image/*" hidden>
  <img id="myAvatarImg" src="https://i.pravatar.cc/50?u=me" alt="My Avatar" style="width:50px;height:50px;border-radius:50%;margin-top:8px;" hidden>

  <input type="color" id="bgSelector" onchange="changeBackground()" style="margin:12px 0;">
  <button id="showNewsBtn" class="action-btn" type="button">Show News</button>
</div>

<!-- Chat Area -->
<div id="chatContainer">
  <div id="tabs"></div>
  <div id="notesList"></div>
  <div id="typingIndicator" style="font-size:12px;color:#aaa;margin:4px;"></div>

  <div id="chatBar">
    <input id="username" readonly>
    <input type="text" id="noteInput" placeholder="Write a message or paste a link...">
    <button id="sendBtn">Send</button>
    <button id="attachBtn" title="Paste a URL">ğŸ“</button>
    <button id="logoutBtn">Logout</button>
  </div>
</div>

<!-- News Modal -->
<div id="newsOverlay" role="dialog" aria-modal="true" aria-labelledby="newsTitle">
  <div id="newsModal">
    <header>
      <h2 id="newsTitle">Kitchatty â€” Updates</h2>
      <button id="closeNewsBtn" type="button">Close</button>
    </header>
    <div style="font-size:14px;line-height:1.5;">
      <p><strong>Whatâ€™s new:</strong></p>
      <ul>
        <li>âœ¨ Brand new Friends system (add/accept/remove + requests)</li>
        <li>ğŸ—‚ï¸ Sidebar is decluttered revamped</li>
        <li>ğŸ›¡ï¸ Profanity filter & 350 character limit</li>
        <li>ğŸ–¼ï¸ Free attachments via pasted links (Imgur/Postimages etc.)</li>
        <li>ğŸ“£ This news pops up the first time you open the page</li>
        <li>ğŸ¥µ New login page!</li>
      </ul>
      <p style="opacity:.8;">Tip: Use <em>Discover</em> to see everyone currently online and add them as friends.</p>
      <div style="margin-top:10px;display:flex;justify-content:flex-end;gap:8px;">
        <button id="dontShowNewsBtn" type="button">Donâ€™t show again</button>
        <button id="ackNewsBtn" class="action-btn" type="button">Got it</button>
      </div>
    </div>
  </div>
</div>

<script type="module" src="script.js"></script>
</body>
</html>
